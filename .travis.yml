language: java
jdk:
  - openjdk14
os:
  - linux
services:
  - docker
branches:
  only:
    - master
install: true
script:
  - "./gradlew check"
deploy:
  provider: heroku
  app: micronaut
  api_key:
    secure: H1tdwPv+PnSU6PAB0ed+gpMBych+8u6mJLHG09xECN01T67eMQvCmNJ/ojUkHr9H+cv2hNJVLtfDuPvDzHO20H2gqxXqC3/3mGehJOOhJn8YBO3i+8SvsNJdr0g67fM9JG2jfkWWYF+H8CV3HSRuyJd8kno9iQHa/QxBqm+p+FSHImw/NtOKt8ZRUDg+i7yjVKAP2G9hjJqvNphTR3iUKXzjcwmWk2Nw+w0fkUAkfR4uV/sKlsu7rLH/cjanMpHqZdcPYSGpbhjtWzD9zNIHBBhp3lFY955ZRGPLNo7nh1B8NQq/mFvMTGIL9WwXhgO9GGWAwUP7ZKInd6Fmfam8YpgWGWA37RaamOwxaFvff+dexSZ/ct/h5uuai1jax3qovPwcBVw3PjDGGDi2o9XAiKEplZrxgPpthQE7oF/iLop3/VmwCCFx4Y/XAIbbQlUtHLVVxx99VqfrK//qAvgvhMd2advvFSCe8ad19+StUJrT6/ec312F0Wa+EayiyZypqtO/Pc2ax89bqegU0sz6Vvc7PyuyEWMwTv1WFph3xNqHuaDhxcSFpBBl785DwEWAkBp+RZ1uyPUezjM218loQSb3b7bIyQDf9fr8notGSZovcRa1irHiDfQzxtP3X2tbJ/+nBPwUlzQU/LXJGfI+4sEvV/VbZjzoPHKdoSpOdHI=
before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
    - "$HOME/.gradle/caches/"
    - "$HOME/.gradle/wrapper/"
